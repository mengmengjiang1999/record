# week1-20240909-20240915

周一：
研究libafl的插桩流程


周二：研究matiec的插桩流程

周三：
上午睡觉，下午os课。晚上研究晓力课程作业，以及afl如何插桩。

afl++运行时候的设置：

sudo bash -c 'echo core >/proc/sys/kernel/core_pattern'

设置CPU频率。afl提示需要设置CPU频率，否则ondemand的模式可能导致性能问题。也可以选择跳过这个检查，不过这有可能带来性能下降的问题。

Whoops, your system uses on-demand CPU frequency scaling, adjusted
    between 781 and 4101 MHz. Unfortunately, the scaling algorithm in the
    kernel is imperfect and can miss the short-lived processes spawned by
    afl-fuzz. To keep things moving, run these commands as root:

    cd /sys/devices/system/cpu
    echo performance | tee cpu*/cpufreq/scaling_governor

    You can later go back to the original state by replacing 'performance'
    with 'ondemand' or 'powersave'. If you don't want to change the settings,
    set AFL_SKIP_CPUFREQ to make afl-fuzz skip this check - but expect some
    performance drop.


实际上，AFL只提供运行然后保存现场的这一功能。


afl运行时候的命令：

afl-fuzz -i ~/Project/fuzzbuild/simple_crash/seeds/ -o out -m none -d -- ~/Project/fuzzbuild/simple_crash/build/simple_crash


CC=afl-clang-fast CXX=afl-clang-fast++ cmake ..
make



随机生成seeds：

for i in {0..4}; do dd if=/dev/urandom of=seed_$i bs=64 count=10; done


afl-fuzz -i ~/Project/fuzzbuild/simple_crash/seeds/ -o out -m none -d -- ~/Project/fuzzbuild/simple_crash/build/simple_crash


export AFL_SKIP_CPUFREQ=1

周四：

上午睡觉，下午晚上吃好吃的。

周五：
研究afl如何查桩


虚函数机制是如何找到的应该调用哪个函数的


周六：
上午睡觉
下午想不起来干了啥
晚上打牌

周日：
上午想不起来干了啥
下午投简历
晚上收拾寝室

